services:
  gio:
    image: ghcr.io/kr0nicas/picobot:latest
    container_name: gio_agente
    restart: unless-stopped
    # CentOS/Linux permission fix
    user: "${UID}:${GID}"
    deploy:
      resources:
        limits:
          memory: 128M
          cpus: '0.5'
    volumes:
      - ./data:/home/picobot/.picobot
    environment:
      # LLM Config (Google Gemini / OpenAI compatible)
      - GIO_LLM_API_KEY=${GIO_LLM_API_KEY}
      - GIO_LLM_API_BASE=${GIO_LLM_API_BASE:-https://generativelanguage.googleapis.com/v1beta/openai}
      - GIO_LLM_MODEL=${GIO_LLM_MODEL:-gemini-1.5-flash}

      # Telegram Config
      - GIO_TELEGRAM_TOKEN=${GIO_TELEGRAM_TOKEN}
      - GIO_TELEGRAM_ALLOWED_USERS=${GIO_TELEGRAM_ALLOWED_USERS}

      # Persistence & System
      - PICOBOT_HOME=/home/picobot/.picobot
